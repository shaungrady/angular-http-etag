// angular-http-etag v2.0.17
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof exports?exports["http-etag"]=t(require("angular")):e["http-etag"]=t(e.angular)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t){if("[object Array]"!==o.call(e))throw new TypeError("array must be an Array");var n=void 0,r=void 0,c=void 0;for(n=0,r=e.length;n<r;++n)if(c=e[n],c===t||c!==c&&t!==t)return n;return-1}t.__esModule=!0;var o=Object.prototype.toString,c="undefined"!=typeof Buffer?function(e){return Buffer.isBuffer(e)}:function(){return!1},i="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=typeof e;if(null===e||"function"!==t&&"object"!==t)throw new TypeError("obj must be an Object");var n=[],r=void 0;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);return n},a="function"==typeof Symbol?function(e){return Object.getOwnPropertySymbols(e)}:function(){return[]};t.getKeys=i,t.getSymbols=a,t.indexOf=r,t.isBuffer=c},function(e,t,n){"use strict";function r(e){e.defineCacheServiceAdapter("$cacheFactory",{config:{storesDeepCopies:!1},methods:{createCache:function(e,t,n){e(t,n)},getCache:function(e,t){return e.get(t)},setItem:function(e,t,n){e.put(t,n)},getItem:function(e,t){return e.get(t)},removeItem:function(e,t){e.remove(t)},removeAllItems:function(e,t){e.removeAll()}}}).defineCacheServiceAdapter("localStorage",{config:{storesDeepCopies:!0},methods:{createCache:c.a.noop,getCache:function(e,t){return t},setItem:function(e,t,n){try{t=e+":"+t,localStorage.setItem(t,JSON.stringify(n))}catch(e){}},getItem:function(e,t){return t=e+":"+t,JSON.parse(localStorage.getItem(t))},removeItem:function(e,t){t=e+":"+t,localStorage.removeItem(t)},removeAllItems:function(e,t){var n=e+":";c.a.forEach(localStorage,function(e,t){0===t.indexOf(n)&&localStorage.removeItem(t)})}}}).defineCacheServiceAdapter("sessionStorage",{config:{storesDeepCopies:!0},methods:{createCache:c.a.noop,getCache:function(e,t){return t},setItem:function(e,t,n){try{t=e+":"+t,sessionStorage.setItem(t,JSON.stringify(n))}catch(e){}},getItem:function(e,t){return t=e+":"+t,JSON.parse(sessionStorage.getItem(t))},removeItem:function(e,t){t=e+":"+t,sessionStorage.removeItem(t)},removeAllItems:function(e,t){var n=e+":";c.a.forEach(sessionStorage,function(e,t){0===t.indexOf(n)&&sessionStorage.removeItem(t)})}}})}var o=n(0),c=n.n(o);t.a=r,r.$inject=["httpEtagProvider"]},function(e,t,n){"use strict";function r(e,t){function n(e){function n(t){var r=t.then,o=t.success;return a?t.cached=function(n){return m&&g.cacheResponseData&&n(b,"cached",void 0,e,v),t}:t.cached=function(){throw new Error("The method `cached` on the promise returned from `$http` has been disabled in favor of `ifCached`.")},t.ifCached=function(n){return m&&g.cacheResponseData&&n({data:b,status:"cached",headers:void 0,config:e},v),t},t.then=function(e,o,c){function i(t){return e(t,v)}function a(e){return o(e,v)}var u=r.apply(t,[e?i:void 0,o?a:void 0,c]);return n(u)},a&&v&&(t.success=function(e){var n=s(e,void 0,void 0,void 0,void 0,v);return o.apply(t,[n])}),t}var i,a=r.useLegacyPromiseExtensions(),u=!!e.etagCache,f=p.indexOf(e.method)>=0,h=u&&f;if(h){var d=o(e);if(d){var v=t.getItemCache(d.id,d.itemKey);if(!v)throw new Error("No defined ETag caches match specified cache ID");var g=v.info(),m=v.$get(),y=m&&m.etagHeader,b=y&&m.responseData;e.$$_itemCache=v,y&&(e.headers=c.a.extend({},e.headers,{"If-None-Match":y}))}}return i=l.apply(l,arguments),n(i),i}function o(e){var t=e.etagCache,n=typeof t,r={};if("function"===n&&(t=t(e),n=typeof t),"object"===n){var o,c;t.isCache?(o=t.info().id,c=i(e)):t.isItemCache?(o=t.info().id,c=t.info().itemKey):(o=t.id,c=t.itemKey||i(e)),r.id=o,r.itemKey=c}else if("string"===n)r.id=t,r.itemKey=i(e);else{if(t!==!0)return;r.itemKey=i(e)}return r}function i(e){var t=e.url,n=u(e.params),r=n&&t.indexOf("?")>0?"&":"?",o=n&&r+n||"";return t+o}function u(e){return e?f()(a()(e).sort(),function(t){var n=e[t];return c.a.isArray(n)?f()(n.sort(),function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&"):""}function s(e){var t=Array.prototype.slice.call(arguments,1);return function(){for(var n=0,r=0;r<t.length&&n<arguments.length;r++)void 0===t[r]&&(t[r]=arguments[n++]);return e.apply(this,t)}}var l=e,p=["GET","JSONP"];return c.a.forEach(p,function(e){var t=e.toLowerCase();n[t]=function(t,r){return r=c.a.extend({},r,{method:e,url:t}),n.call(l,r)}}),c.a.forEach(l,function(e,t){n[t]||(n[t]=e)}),n}var o=n(0),c=n.n(o),i=n(10),a=n.n(i),u=n(6),f=n.n(u);t.a=r,r.$inject=["$delegate","httpEtag"]},function(e,t,n){"use strict";function r(){function e(e){var t=e.config.$$_itemCache;if(t){var n=t.info(),r=n.cacheResponseData,o=e.headers().etag,c={};o&&(c.etagHeader=o,r&&(c.responseData=e.data),t.$set(c)),delete e.config.$$_itemCache}return e}return{response:e}}t.a=r},function(e,t,n){"use strict";function r(){var e=this,t=["createCache","getCache"],n=["setItem","getItem","removeItem","removeAllItems"],r=t.concat(n),o={},i={},u="httpEtagCache",f={deepCopy:!1,cacheResponseData:!0,cacheService:"$cacheFactory",cacheOptions:{number:25}};e.setDefaultCacheConfig=function(t){return f=c.a.extend({},f,t),e},e.getDefaultCacheConfig=function(){return f},e.defineCache=function(t,n){return n=c.a.extend({},f,n,{id:t}),i[t]=n,e},e.defineCacheServiceAdapter=function(t,n){if(!n)throw new Error("Missing cache service adapter configuration");if(!n.methods)throw new Error("Missing cache service adapter configuration methods");return c.a.forEach(r,function(e){if("function"!=typeof n.methods[e])throw new Error('Expected cache service adapter method "'+e+'" to be a function')}),o[t]=n,e},e.getCacheServiceAdapter=function(e){return o[e]},e.$get=["$injector",function(r){function f(e){var t=typeof e,n="number"===t||"string"===t&&!!e;return n?e:u}var s={},l={},p={},h={},d={};return i[u]||e.defineCache(u),c.a.forEach(o,function(e,n){var o=l[n]=window[n]||r.get(n),i=p[n]={};c.a.forEach(t,function(t){i[t]=c.a.bind({},e.methods[t],o)})}),c.a.forEach(i,function(e,t){p[e.cacheService].createCache(t,e);var r=h[t]=p[e.cacheService].getCache(t),u=d[t]={},f=o[e.cacheService].config.storesDeepCopies,l=!f&&i[t].deepCopy,v=function(e){return l?a()(e):e};c.a.forEach(n,function(t){var n,i,a=o[e.cacheService].methods[t];"getItem"===t&&(n=function(e,t,n){var r=a(e,t,n);return r&&v(r.responseData)},i=function(e,t,n){return v(a(e,t,n))}),"setItem"===t&&(n=function(e,t,n,r){var o=u.$getItem(t);n=v(n),o&&"object"==typeof o?(o.responseData=n,n=o):n={responseData:n},a(e,t,n,r)},i=function(e,t,n,r){a(e,t,v(n),r)}),u[t]=c.a.bind({},n||a,r),i&&(u["$"+t]=c.a.bind({},i,r))}),u.unsetItem=function(e){u.setItem(e,void 0)},u.expireItem=function(e){var t=u.$getItem(e);delete t.etagHeader,u.$setItem(e,t)},u.getItemCache=function(e){return s.getItemCache(t,e)},u.info=function(){return i[t]},u.isCache=!0}),s.info=function(){return i},s.getCache=function(e){var t=d[f(e)];if(t)return t},s.getItemCache=function(e,t){var n=s.getCache(e),r={};if(n){var o=[["set","setItem"],["get","getItem"],["$set","$setItem"],["$get","$getItem"],["unset","unsetItem"],["expire","expireItem"],["remove","removeItem"]];return c.a.forEach(o,function(e){r[e[0]]=c.a.bind({},n[e[1]],t)}),r.info=function e(){var e=n.info();return e.itemKey=t,e},r.isItemCache=!0,r}},s.purgeCaches=function(){c.a.forEach(d,function(e){e.removeAllItems()})},s}]}var o=n(0),c=n.n(o),i=n(7),a=n.n(i);t.a=r},function(e,t){e.exports=function(e,t){if(e.map)return e.map(t);for(var r=[],o=0;o<e.length;o++){var c=e[o];n.call(e,o)&&r.push(t(c,o,e))}return r};var n=Object.prototype.hasOwnProperty},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";function r(e,t){var n=c(e);return null!==n?n:o(e,t)}function o(e,t){if("function"!=typeof t)throw new TypeError("customizer is must be a Function");if("function"==typeof e){var n=String(e);return/^\s*function\s*\S*\([^\)]*\)\s*{\s*\[native code\]\s*}/.test(n)?e:new Function("return "+String(n))()}var r=a.call(e);if("[object Array]"===r)return[];if("[object Object]"===r&&e.constructor===Object)return{};if("[object Date]"===r)return new Date(e.getTime());if("[object RegExp]"===r){var o=String(e),c=o.lastIndexOf("/");return new RegExp(o.slice(1,c),o.slice(c+1))}if((0,i.isBuffer)(e)){var u=new Buffer(e.length);return e.copy(u),u}var f=t(e);return void 0!==f?f:null}function c(e){var t=typeof e;return null!==e&&"object"!==t&&"function"!==t?e:null}t.__esModule=!0,t.copyValue=t.copyCollection=t.copy=void 0;var i=n(1),a=Object.prototype.toString;t.copy=r,t.copyCollection=o,t.copyValue=c},function(e,t,n){"use strict";function r(e){}function o(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1];if(null===e)return null;var n=(0,i.copyValue)(e);if(null!==n)return n;var o=(0,i.copyCollection)(e,t),a=null!==o?o:e,u=[e],f=[a];return c(e,t,a,u,f)}function c(e,t,n,r,o){if(null===e)return null;var u=(0,i.copyValue)(e);if(null!==u)return u;var f=(0,a.getKeys)(e).concat((0,a.getSymbols)(e)),s=void 0,l=void 0,p=void 0,h=void 0,d=void 0,v=void 0,g=void 0,m=void 0;for(s=0,l=f.length;s<l;++s)p=f[s],h=e[p],d=(0,a.indexOf)(r,h),v=void 0,g=void 0,m=void 0,d===-1?(v=(0,i.copy)(h,t),g=null!==v?v:h,null!==h&&/^(?:function|object)$/.test(typeof h)&&(r.push(h),o.push(g))):m=o[d],n[p]=m||c(h,t,g,r,o);return n}t.__esModule=!0;var i=n(8),a=n(1);t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,c=Array.prototype.slice,i=n(11),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),f=a.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},p={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){if("undefined"==typeof window||!h)return l(e);try{return l(e)}catch(e){return!1}},v=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),c=i(e),a=t&&"[object String]"===o.call(e),l=[];if(!t&&!n&&!c)throw new TypeError("Object.keys called on a non-object");var p=f&&n;if(a&&e.length>0&&!r.call(e,0))for(var h=0;h<e.length;++h)l.push(String(h));if(c&&e.length>0)for(var v=0;v<e.length;++v)l.push(String(v));else for(var g in e)p&&"prototype"===g||!r.call(e,g)||l.push(String(g));if(u)for(var m=d(e),y=0;y<s.length;++y)m&&"constructor"===s[y]||!r.call(e,s[y])||l.push(s[y]);return l};v.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return t(i(e)?c.call(e):e)}}}else Object.keys=v;return Object.keys||v},e.exports=v},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n.n(r),c=n(5),i=n(3),a=n(4),u=n(2);t.default=o.a.module("http-etag",[]).provider("httpEtag",c.a).config(u.a).config(["$provide","$httpProvider",function(e,t){i.a.useLegacyPromiseExtensions=t.useLegacyPromiseExtensions||function(){return 1===o.a.version.major&&o.a.version.minor<6},e.decorator("$http",i.a),t.interceptors.push(a.a)}]).name}])});
//# sourceMappingURL=angular-http-etag.min.js.map